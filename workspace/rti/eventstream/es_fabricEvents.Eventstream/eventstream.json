{
  "sources": [
    {
      "id": "1f00e84d-959f-46bd-b2d7-ce8cb28d6f18",
      "name": "Fabric-Accelerator-Workspace",
      "type": "FabricWorkspaceItemEvents",
      "properties": {
        "eventScope": "Workspace",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "includedEventTypes": [
          "Microsoft.Fabric.ItemCreateSucceeded",
          "Microsoft.Fabric.ItemCreateFailed",
          "Microsoft.Fabric.ItemUpdateSucceeded",
          "Microsoft.Fabric.ItemUpdateFailed",
          "Microsoft.Fabric.ItemDeleteSucceeded",
          "Microsoft.Fabric.ItemDeleteFailed",
          "Microsoft.Fabric.ItemReadSucceeded",
          "Microsoft.Fabric.ItemReadFailed"
        ],
        "filters": []
      }
    },
    {
      "id": "37054380-0a31-4806-8e12-e38862e7151a",
      "name": "Master-ELT-ASQL",
      "type": "FabricJobEvents",
      "properties": {
        "eventScope": "Item",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "82af613c-993c-4be0-8424-b78bb196684f",
        "includedEventTypes": [
          "Microsoft.Fabric.JobEvents.ItemJobCreated",
          "Microsoft.Fabric.JobEvents.ItemJobStatusChanged",
          "Microsoft.Fabric.JobEvents.ItemJobSucceeded",
          "Microsoft.Fabric.JobEvents.ItemJobFailed"
        ],
        "filters": []
      }
    },
    {
      "id": "5fb7fe30-07a8-43a1-9296-6fa570bbafa2",
      "name": "dw-gold",
      "type": "FabricOneLakeEvents",
      "properties": {
        "tenantId": "4d48d9e5-a6e3-4f1b-81ca-47f1e8439804",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "1e5deebe-21e3-44a3-a633-43735ff6c312",
        "oneLakePaths": [
          "/Tables"
        ],
        "includedEventTypes": [
          "Microsoft.Fabric.OneLake.FileCreated",
          "Microsoft.Fabric.OneLake.FileDeleted",
          "Microsoft.Fabric.OneLake.FileRenamed",
          "Microsoft.Fabric.OneLake.FolderCreated",
          "Microsoft.Fabric.OneLake.FolderDeleted",
          "Microsoft.Fabric.OneLake.FolderRenamed"
        ],
        "filters": []
      }
    },
    {
      "id": "c9169667-6d84-4650-9eea-88aeb3498274",
      "name": "lh-bronze-storage",
      "type": "FabricOneLakeEvents",
      "properties": {
        "tenantId": "4d48d9e5-a6e3-4f1b-81ca-47f1e8439804",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "c158856b-c47a-4b9e-9149-273744ac6287",
        "oneLakePaths": [
          "/Tables",
          "/Files"
        ],
        "includedEventTypes": [
          "Microsoft.Fabric.OneLake.FileCreated",
          "Microsoft.Fabric.OneLake.FileDeleted",
          "Microsoft.Fabric.OneLake.FileRenamed",
          "Microsoft.Fabric.OneLake.FolderCreated",
          "Microsoft.Fabric.OneLake.FolderDeleted",
          "Microsoft.Fabric.OneLake.FolderRenamed"
        ],
        "filters": []
      }
    },
    {
      "id": "e715f26e-6a5d-4200-a6b3-ea5455b231f1",
      "name": "Optimize-DeltaLake-Tabless",
      "type": "FabricJobEvents",
      "properties": {
        "eventScope": "Item",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "2c6a6b76-d3a9-4848-8781-b69d0ab2ed75",
        "includedEventTypes": [
          "Microsoft.Fabric.JobEvents.ItemJobCreated",
          "Microsoft.Fabric.JobEvents.ItemJobStatusChanged",
          "Microsoft.Fabric.JobEvents.ItemJobSucceeded",
          "Microsoft.Fabric.JobEvents.ItemJobFailed"
        ],
        "filters": []
      }
    },
    {
      "id": "f4104096-9f8d-464f-be4c-513c4fb7c4c9",
      "name": "lh-silver-storage",
      "type": "FabricOneLakeEvents",
      "properties": {
        "tenantId": "4d48d9e5-a6e3-4f1b-81ca-47f1e8439804",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "719c04bd-6adc-4db2-a09d-9714473b1bd5",
        "oneLakePaths": [
          "/Tables",
          "/Files"
        ],
        "includedEventTypes": [
          "Microsoft.Fabric.OneLake.FileCreated",
          "Microsoft.Fabric.OneLake.FileDeleted",
          "Microsoft.Fabric.OneLake.FileRenamed",
          "Microsoft.Fabric.OneLake.FolderCreated",
          "Microsoft.Fabric.OneLake.FolderDeleted",
          "Microsoft.Fabric.OneLake.FolderRenamed"
        ],
        "filters": []
      }
    }
  ],
  "destinations": [
    {
      "id": "4b20a84f-1921-4390-b171-dafd6e073179",
      "name": "storageEvents",
      "type": "Eventhouse",
      "properties": {
        "dataIngestionMode": "ProcessedIngestion",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "37cda794-c52c-4ee7-a152-ee7551c5f73c",
        "databaseName": "kdb_fabricEvents",
        "tableName": "storageEvents",
        "inputSerialization": {
          "type": "Json",
          "properties": {
            "encoding": "UTF8"
          }
        }
      },
      "inputNodes": [
        {
          "name": "Filter_OnelakeEvents"
        }
      ],
      "inputSchemas": [
        {
          "name": "Filter_OnelakeEvents",
          "schema": {
            "columns": [
              {
                "name": "id",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "datacontenttype",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "specversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "source",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "time",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "subject",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "dataschemaversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "type",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "data",
                "type": "Record",
                "fields": [
                  {
                    "name": "itemId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemKind",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalType",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  }
                ],
                "items": null
              },
              {
                "name": "EventProcessedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "PartitionId",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "EventEnqueuedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    },
    {
      "id": "4bae2697-4847-4805-9967-e6599be29cdd",
      "name": "workspaceEvents",
      "type": "Eventhouse",
      "properties": {
        "dataIngestionMode": "ProcessedIngestion",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "37cda794-c52c-4ee7-a152-ee7551c5f73c",
        "databaseName": "kdb_fabricEvents",
        "tableName": "workspaceEvents",
        "inputSerialization": {
          "type": "Json",
          "properties": {
            "encoding": "UTF8"
          }
        }
      },
      "inputNodes": [
        {
          "name": "Filter_WorkspaceEvents"
        }
      ],
      "inputSchemas": [
        {
          "name": "Filter_WorkspaceEvents",
          "schema": {
            "columns": [
              {
                "name": "id",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "datacontenttype",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "specversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "source",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "time",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "subject",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "dataschemaversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "type",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "data",
                "type": "Record",
                "fields": [
                  {
                    "name": "itemId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemKind",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalType",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  }
                ],
                "items": null
              },
              {
                "name": "EventProcessedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "PartitionId",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "EventEnqueuedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    },
    {
      "id": "7f5758fc-759c-46ea-bcdd-fa0ac58d7c60",
      "name": "jobEvents",
      "type": "Eventhouse",
      "properties": {
        "dataIngestionMode": "ProcessedIngestion",
        "workspaceId": "3822d1e4-3b20-45f2-b46c-520c6b5818ef",
        "itemId": "37cda794-c52c-4ee7-a152-ee7551c5f73c",
        "databaseName": "kdb_fabricEvents",
        "tableName": "jobEvents",
        "inputSerialization": {
          "type": "Json",
          "properties": {
            "encoding": "UTF8"
          }
        }
      },
      "inputNodes": [
        {
          "name": "Filter_JobEvents"
        }
      ],
      "inputSchemas": [
        {
          "name": "Filter_JobEvents",
          "schema": {
            "columns": [
              {
                "name": "id",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "datacontenttype",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "specversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "source",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "time",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "subject",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "dataschemaversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "type",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "data",
                "type": "Record",
                "fields": [
                  {
                    "name": "itemId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemKind",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalType",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  }
                ],
                "items": null
              },
              {
                "name": "EventProcessedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "PartitionId",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "EventEnqueuedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    }
  ],
  "streams": [
    {
      "id": "8cf2cc6f-bbd9-487b-8744-e424af00537e",
      "name": "es_fabricEvents-stream",
      "type": "DefaultStream",
      "properties": {},
      "inputNodes": [
        {
          "name": "dw-gold"
        },
        {
          "name": "Fabric-Accelerator-Workspace"
        },
        {
          "name": "lh-bronze-storage"
        },
        {
          "name": "lh-silver-storage"
        },
        {
          "name": "Master-ELT-ASQL"
        },
        {
          "name": "Optimize-DeltaLake-Tabless"
        }
      ]
    }
  ],
  "operators": [
    {
      "name": "Filter_JobEvents",
      "type": "Filter",
      "inputNodes": [
        {
          "name": "es_fabricEvents-stream"
        }
      ],
      "properties": {
        "conditions": [
          {
            "column": {
              "expressionType": "ColumnReference",
              "node": null,
              "columnName": "type",
              "columnPathSegments": []
            },
            "operatorType": "StartsWith",
            "value": {
              "expressionType": "Literal",
              "dataType": "Nvarchar(max)",
              "value": "Microsoft.Fabric.JobEvents"
            }
          }
        ]
      },
      "inputSchemas": [
        {
          "name": "es_fabricEvents-stream",
          "schema": {
            "columns": [
              {
                "name": "id",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "datacontenttype",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "specversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "source",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "time",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "subject",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "dataschemaversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "type",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "data",
                "type": "Record",
                "fields": [
                  {
                    "name": "itemId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemKind",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalType",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  }
                ],
                "items": null
              },
              {
                "name": "EventProcessedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "PartitionId",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "EventEnqueuedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Filter_OnelakeEvents",
      "type": "Filter",
      "inputNodes": [
        {
          "name": "es_fabricEvents-stream"
        }
      ],
      "properties": {
        "conditions": [
          {
            "column": {
              "expressionType": "ColumnReference",
              "node": null,
              "columnName": "type",
              "columnPathSegments": []
            },
            "operatorType": "StartsWith",
            "value": {
              "expressionType": "Literal",
              "dataType": "Nvarchar(max)",
              "value": "Microsoft.Fabric.OneLake"
            }
          }
        ]
      },
      "inputSchemas": [
        {
          "name": "es_fabricEvents-stream",
          "schema": {
            "columns": [
              {
                "name": "id",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "datacontenttype",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "specversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "source",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "time",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "subject",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "dataschemaversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "type",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "data",
                "type": "Record",
                "fields": [
                  {
                    "name": "itemId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemKind",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalType",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  }
                ],
                "items": null
              },
              {
                "name": "EventProcessedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "PartitionId",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "EventEnqueuedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    },
    {
      "name": "Filter_WorkspaceEvents",
      "type": "Filter",
      "inputNodes": [
        {
          "name": "es_fabricEvents-stream"
        }
      ],
      "properties": {
        "conditions": [
          {
            "column": {
              "expressionType": "ColumnReference",
              "node": null,
              "columnName": "type",
              "columnPathSegments": []
            },
            "operatorType": "StartsWith",
            "value": {
              "expressionType": "Literal",
              "dataType": "Nvarchar(max)",
              "value": "Microsoft.Fabric.Item"
            }
          }
        ]
      },
      "inputSchemas": [
        {
          "name": "es_fabricEvents-stream",
          "schema": {
            "columns": [
              {
                "name": "id",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "datacontenttype",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "specversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "source",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "time",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "subject",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "dataschemaversion",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "type",
                "type": "Nvarchar(max)",
                "fields": null,
                "items": null
              },
              {
                "name": "data",
                "type": "Record",
                "fields": [
                  {
                    "name": "itemId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "workspaceName",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "itemKind",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalId",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  },
                  {
                    "name": "executingPrincipalType",
                    "type": "Nvarchar(max)",
                    "fields": null,
                    "items": null
                  }
                ],
                "items": null
              },
              {
                "name": "EventProcessedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              },
              {
                "name": "PartitionId",
                "type": "BigInt",
                "fields": null,
                "items": null
              },
              {
                "name": "EventEnqueuedUtcTime",
                "type": "DateTime",
                "fields": null,
                "items": null
              }
            ]
          }
        }
      ]
    }
  ],
  "compatibilityLevel": "1.0"
}